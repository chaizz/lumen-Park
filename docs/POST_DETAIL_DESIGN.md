# Lumen Park - 帖子详情页 (Post Detail Page) 产品设计

## 1. 概述
帖子详情页是内容消费的核心页面，承载了高清图片展示、参数信息查阅以及用户互动功能。

## 2. 页面布局 (Layout)
采用 **左右分栏布局**（Desktop），在 Mobile 端自动转为上下布局。

### 2.1 顶部导航栏 (Top Nav)
*   **状态**：固定在页面顶部，不随页面滚动。
*   **功能**：Logo（回首页）、搜索框、投稿按钮、用户头像。

### 2.2 左侧：图片展示区 (Image Viewer)
*   **布局特性**：
    *   **固定定位 (Sticky)**：在 Desktop 模式下，当右侧内容滚动时，左侧图片区域保持固定不动，确保用户随时能看到作品。
    *   **自适应**：图片在容器内完整展示 (`object-fit: contain`)。
*   **多图交互**：
    *   支持左右箭头切换。
    *   底部显示分页指示点。
    *   切换图片时，右侧参数区域同步更新。

### 2.3 右侧：信息与互动区 (Info & Interaction)
*   **布局特性**：**独立滚动**。高度铺满屏幕剩余空间，内容超出时内部滚动。
*   **模块顺序**：
    1.  **作者栏**：
        *   头像、昵称。
        *   **关注按钮**：未关注显示“关注”，已关注显示“已关注”或图标。
    2.  **作品信息**：
        *   标题、发布时间（格式：2024年2月14日）。
        *   描述文本。
    3.  **富士配方卡片 (Recipe Card)**：
        *   **风格**：模拟相机菜单的深色 UI。
        *   **中文化**：所有参数名称和枚举值均显示为中文（如 "Dynamic Range" -> "动态范围"）。
    4.  **EXIF 信息栏**：
        *   图标化展示相机、镜头、光圈、快门、ISO、焦距。
    5.  **评论区 (Comments)**：
        *   **多级评论**：支持主评论和子回复（无限层级或两层，建议两层：主评论 -> 回复列表）。
        *   **功能**：发表评论、回复某人、点赞评论。
    6.  **底部操作栏 (Action Bar)**：
        *   固定在右侧区域底部。
        *   **点赞**：点击图标点赞/取消，显示数字。
        *   **评论**：点击滚动到评论输入框。
        *   **分享**：复制链接或生成海报（一期仅复制链接）。

## 3. 核心交互逻辑

### 3.1 关注 (Follow)
*   **API**: `POST /users/{id}/follow`, `DELETE /users/{id}/follow`
*   **状态**：前端需实时更新按钮状态。

### 3.2 点赞 (Like)
*   **对象**：作品 (Post)、评论 (Comment)。
*   **API**: 
    *   作品: `POST /api/v1/likes` (Body: `{post_id}`)
    *   评论: `POST /api/v1/comments/{id}/like`
*   **反馈**：
    *   **状态切换**：点击后立即切换图标状态（空心/实心红心）。
    *   **数字更新**：实时 +1 或 -1。
    *   **未登录**：点击跳转登录页。

### 3.3 评论 (Comment)
*   **结构**：
    *   `content`: 内容
    *   `parent_id`: 父评论 ID（可选，用于回复）
*   **展示**：
    *   **层级**：采用两层结构。
        *   **一级评论**：直接显示。
        *   **二级回复**：显示在一级评论下方，缩进展示。
    *   **互动**：每条评论（无论一级还是二级）都支持 **回复** 和 **点赞**。
*   **排序**：按时间倒序（最新的在最前）。

### 3.4 分享 (Share)
*   **功能**：点击分享图标，将当前页面 URL 复制到剪贴板。
*   **反馈**：Toast 提示“链接已复制”。

## 4. 国际化 (Localization)
*   **配方参数**：前端维护一份映射表，将数据库存储的英文 Enum 转换为中文显示。
    *   `FilmSimulation.Classic Chrome` -> `经典正片`
    *   `DynamicRange.DR400` -> `动态范围 400%`
    *   `GrainEffect.Weak` -> `弱`
    *   ...
